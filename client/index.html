<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">

    <!-- jQuery library -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>
    
    <!-- Latest compiled JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>

    <script>
      function startTime(){
        var today = new Date();
        var year = today.getFullYear();
        var month = today.getMonth()+1;
        var day = today.getDate();
        var hh = today.getHours();
        var mm = today.getMinutes();
        var ss = today.getSeconds();
        
        month = checkTime(month);
        day = checkTime(day);
        mm = checkTime(mm);
        ss = checkTime(ss);

        var str = year+"/"+month+"/"+day+"  "+hh+":"+mm+":"+ss;
        document.getElementById('clock').innerHTML = str;
        var timeoutId = setTimeout(startTime, 500);
    }

    function checkTime(i) {
      if(i<10) {
          i = "0" + i;
      }
      return i;
    }
    </script>
  </head>

  <body onload="startTime()">
    <div id="myName">
      <input type="text" id="usernameInput" placeholder="My name">
      <form id="form_identify" name="form_identify">
        <label><input type="radio" name="identify" value="visitor" required>visitor</label>
        <label><input type="radio" name="identify" value="employee">employee</label>
      </form>
      <input type="button" id="loginBtn" value="Save"></input>
    </div>
    <div id="otherElements">
      <div id="clock"></div>
      <div id="dv_employee">
        <div>
          <h3><span id="allUsers"></span></h3>
        </div>
        <div id="controlVid">
          <p>RemoteVideo:</p>
          <button id="turnOnVid" class="btn-success btn">On</button> 
          <button id="turnOffVid" class="btn-danger btn">Off</button> 
        </div>
        <b><span id="showLocalUserName"></span></b>
        <div>
          <img id="localImg" width="40%">
          <b><span id="showRemoteUserName"></span></b>
          <div id="dv_remoteVideo">
            <video id="remoteVideo" autoplay style="width:40%;"></video>
          </div>
          <div id="dv_remoteImg">
            <img id="remoteImg" width="40%">
          </div>
        </div>
      </div>
      <div id="dv_visitor">
        <div>
          <h2 id="showHint">---</h2>
        </div>
        <video id="localVideo" autoplay muted style="width:25%;"></video>
        <p id="show_IfCalling"></p>
      </div>
      <canvas id="canvas" width="640" height="480"></canvas>
      <img id="remoteSnapImg" width="40%">
      
      <br />
      <div id='callInitiator'>
          <input id = "callToUsernameInput" 
          type = "text" placeholder = "username to call"/> 
          <br/>
          <button id = "callBtn" class = "btn-success btn">Call</button> 
          <!-- <button id = "hangUpBtn" class = "btn-danger btn">Hang Up</button>  -->
      </div>
      <div id='callReceiver' style="display: none;">

        <button id = "answerBtn" class = "btn-success btn">Answer</button> 
        <button id = "declineBtn" class = "btn-danger btn">Decline</button> 
    </div>
    <div id='callOngoing' style="display: none;">
      
      <button id = "hangUpBtn" class = "btn-danger btn">Hang Up</button>

  </div>
      <!-- <input type="button" id="start" onclick="start(true)" value="Start Video"></input>
      <input type="button" id="Stop" onclick="stop(true)" value="Stop Video"></input> -->

  </div>
  <script src="https://webrtc.github.io/adapter/adapter-latest.js"></script>
  <script src="webrtc.js"></script>
    
    
  </body>
</html>
